{"version":3,"sources":["rack/middleware.js"],"names":[],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;;;IAKa;AACX,WADW,UACX,GAAiC;QAArB,6DAAO,4BAAc;;0BADtB,YACsB;;AAC/B,SAAK,IAAL,GAAY,IAAZ,CAD+B;GAAjC;;eADW;;6BAKU;UAAd,gEAAU,kBAAI;;AACnB,aAAO,mBAAQ,OAAR,CAAgB,OAAhB,CAAP,CADmB;;;;mCAIG;UAAX,8DAAQ,iBAAG;;AACtB,UAAM,OAAO;AACX,eAAO,KAAK,IAAL;AACP,eAAO,KAAP;AACA,eAAO,EAAP;OAHI,CADgB;AAMtB,aAAO,IAAP,CANsB;;;;+BASb;AACT,UAAM,OAAO,KAAK,YAAL,EAAP,CADG;AAET,aAAO,qBAAU,QAAV,CAAmB,IAAnB,CAAP,CAFS;;;;SAlBA;;;;;;;;IA2BA;;;AACX,WADW,gBACX,GAAwC;QAA5B,6DAAO,mCAAqB;;0BAD7B,kBAC6B;;kEAD7B,6BAEH,OADgC;GAAxC;;eADW;;2BAKJ,SAAS;AACd,aAAO,uBAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,YAAI,CAAC,OAAD,EAAU;AACZ,iBAAO,OAAO,IAAI,KAAJ,CAAU,kDAAV,EAA8D,OAA9D,CAAP,CAAP,CADY;SAAd;;AAIA,eAAO,QAAQ,OAAR,CAAP,CALsC;OAArB,CAAnB,CADc;;;;SALL;EAAyB","file":"rack/middleware.js","sourcesContent":["import Promise from 'babybird';\nimport { AsciiTree } from './asciiTree';\n\n/**\n * @private\n */\nexport class Middleware {\n  constructor(name = 'Middleware') {\n    this.name = name;\n  }\n\n  handle(request = {}) {\n    return Promise.resolve(request);\n  }\n\n  generateTree(level = 0) {\n    const root = {\n      value: this.name,\n      level: level,\n      nodes: []\n    };\n    return root;\n  }\n\n  toString() {\n    const root = this.generateTree();\n    return AsciiTree.generate(root);\n  }\n}\n\n/**\n * @private\n */\nexport class KinveyMiddleware extends Middleware {\n  constructor(name = 'Kinvey Middleware') {\n    super(name);\n  }\n\n  handle(request) {\n    return new Promise((resolve, reject) => {\n      if (!request) {\n        return reject(new Error('Request is null. Please provide a valid request.', request));\n      }\n\n      return resolve(request);\n    });\n  }\n}\n"],"sourceRoot":"/source/"}